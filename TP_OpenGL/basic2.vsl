#version 430

layout (location=1) in vec4 pos;
layout (location=2) in vec3 normal_in;

layout (location=4) uniform vec3 light;

out vec3 normal;
out float distance;

uniform mat4 model;
uniform mat4 view;
uniform mat4 projection;

void main() {
	gl_Position = projection * view * model * pos;
	normal = (view * model * vec4(normal_in,0)).xyz; 
	distance = sqrt((pos.x-light.x)*(pos.x-light.x)+(pos.y-light.y)*(pos.y-light.y)+(pos.z-light.z)*(pos.z-light.z));
}